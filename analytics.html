<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics | SelfMaster</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
    <div class="container header-content">
        <div class="logo">
            <i class="fas fa-brain"></i>
            <span><a href="index.html" style="color: inherit; text-decoration: none;">SelfMaster</a></span>
        </div>
        <nav id="main-nav">
            <ul>
                <li><a href="tasks.html"><i class="fas fa-tasks"></i> Tasks</a></li>
                <li><a href="projects.html"><i class="fas fa-project-diagram"></i> Projects</a></li>
                <li><a href="calendar.html"><i class="fas fa-calendar"></i> Calendar</a></li>
                <li><a href="goals.html"><i class="fas fa-bullseye"></i> Goals</a></li>
                <li><a href="habits.html"><i class="fas fa-running"></i> Habits</a></li>
                <li><a href="notes.html"><i class="fas fa-sticky-note"></i> Notes</a></li>
                <li><a href="reviews.html"><i class="fas fa-chart-bar"></i> Reviews</a></li>
                <li><a href="analytics.html"><i class="fas fa-chart-line"></i> Analytics</a></li>
            </ul>
        </nav>
        <button class="mobile-menu-btn">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</header>
    
    <section class="page-header">
        <div class="container">
            <h1><i class="fas fa-chart-line"></i> Analytics Dashboard</h1>
            <p>Track your productivity patterns, progress, and insights</p>
        </div>
    </section>
    
    <section class="analytics-dashboard">
        <div class="container">
            <div class="analytics-grid">
                <!-- Task Completion Card -->
                <div class="stats-card">
                    <h3><i class="fas fa-tasks"></i> Task Completion</h3>
                    <div class="stat-content">
                        <div class="stat-value" id="task-completion-rate">0%</div>
                        <div class="stat-label">Completion Rate</div>
                        <div class="progress-bar">
                            <div class="progress" id="task-progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="stat-details" id="task-details">
                            <p>Total: <span id="total-tasks-count">0</span></p>
                            <p>Completed: <span id="completed-tasks-count">0</span></p>
                            <p>Pending: <span id="pending-tasks-count">0</span></p>
                        </div>
                    </div>
                </div>
                
                <!-- Habit Consistency Card -->
                <div class="stats-card">
                    <h3><i class="fas fa-fire"></i> Habit Consistency</h3>
                    <div class="stat-content">
                        <div class="stat-value" id="habit-consistency">0%</div>
                        <div class="stat-label">Consistency Rate</div>
                        <div class="progress-bar">
                            <div class="progress" id="habit-progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="stat-details" id="habit-details">
                            <p>Active Habits: <span id="active-habits-count">0</span></p>
                            <p>Average Streak: <span id="average-streak">0 days</span></p>
                            <p>Best Streak: <span id="best-streak">0 days</span></p>
                        </div>
                    </div>
                </div>
                
                <!-- Goal Progress Card -->
                <div class="stats-card">
                    <h3><i class="fas fa-trophy"></i> Goal Progress</h3>
                    <div class="stat-content">
                        <div class="stat-value" id="goal-progress-rate">0%</div>
                        <div class="stat-label">Overall Progress</div>
                        <div class="progress-bar">
                            <div class="progress" id="goal-progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="stat-details" id="goal-details">
                            <p>Total Goals: <span id="total-goals-count">0</span></p>
                            <p>Completed: <span id="completed-goals-count">0</span></p>
                            <p>In Progress: <span id="in-progress-goals">0</span></p>
                        </div>
                    </div>
                </div>
                
                <!-- Weekly Overview Card -->
                <div class="stats-card">
                    <h3><i class="fas fa-calendar-alt"></i> Weekly Overview</h3>
                    <div class="stat-content">
                        <div class="stat-value" id="weekly-productivity">0%</div>
                        <div class="stat-label">Productivity Score</div>
                        <div class="progress-bar">
                            <div class="progress" id="weekly-progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="stat-details" id="weekly-details">
                            <p>This Week: <span id="this-week-tasks">0 tasks</span></p>
                            <p>Last Week: <span id="last-week-tasks">0 tasks</span></p>
                            <p>Change: <span id="weekly-change">0%</span></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Charts and graphs section -->
            <div class="charts-container">
                <div class="chart-card">
                    <h3><i class="fas fa-chart-bar"></i> Daily Task Completion</h3>
                    <div class="chart-placeholder" id="daily-chart">
                        <!-- Chart will be drawn here -->
                    </div>
                </div>
                
                <div class="chart-card">
                    <h3><i class="fas fa-chart-pie"></i> Task Distribution</h3>
                    <div class="chart-placeholder" id="distribution-chart">
                        <!-- Chart will be drawn here -->
                    </div>
                </div>
                
                <div class="chart-card">
                    <h3><i class="fas fa-chart-line"></i> Progress Trend</h3>
                    <div class="chart-placeholder" id="trend-chart">
                        <!-- Chart will be drawn here -->
                    </div>
                </div>
            </div>
            
            <!-- Time Analysis -->
            <div class="time-analysis">
                <h2><i class="fas fa-clock"></i> Time Analysis</h2>
                <div class="time-stats-grid">
                    <div class="time-stat">
                        <div class="time-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="time-content">
                            <div class="time-value" id="total-focused-time">0h 0m</div>
                            <div class="time-label">Total Focus Time</div>
                        </div>
                    </div>
                    <div class="time-stat">
                        <div class="time-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="time-content">
                            <div class="time-value" id="avg-session-length">0m</div>
                            <div class="time-label">Avg Session Length</div>
                        </div>
                    </div>
                    <div class="time-stat">
                        <div class="time-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="time-content">
                            <div class="time-value" id="focus-streak">0 days</div>
                            <div class="time-label">Focus Streak</div>
                        </div>
                    </div>
                    <div class="time-stat">
                        <div class="time-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="time-content">
                            <div class="time-value" id="productivity-trend">+0%</div>
                            <div class="time-label">Weekly Trend</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <br>
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h4>SelfMaster</h4>
                    <p>Your comprehensive personal management system designed to help you take control of your life, build better habits, and achieve your goals.</p>
                </div>
                <div class="footer-column">
                    <h4>Analytics Features</h4>
                    <ul>
                        <li><a href="#">Progress Tracking</a></li>
                        <li><a href="#">Productivity Insights</a></li>
                        <li><a href="#">Habit Analysis</a></li>
                        <li><a href="#">Goal Progress</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Reports</h4>
                    <ul>
                        <li><a href="#">Daily Reports</a></li>
                        <li><a href="#">Weekly Reviews</a></li>
                        <li><a href="#">Monthly Analysis</a></li>
                        <li><a href="#">Custom Reports</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 SelfMaster. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <script src="script.js"></script>
    <script>
        // Analytics page specific functionality
        function loadAnalytics() {
            // Load all data
            const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            const goals = JSON.parse(localStorage.getItem('goals') || '[]');
            const focusStats = JSON.parse(localStorage.getItem('focusStats') || '{}');
            
            // Update task analytics
            updateTaskAnalytics(tasks);
            
            // Update habit analytics
            updateHabitAnalytics(habits);
            
            // Update goal analytics
            updateGoalAnalytics(goals);
            
            // Update weekly overview
            updateWeeklyAnalytics(tasks);
            
            // Update time analysis
            updateTimeAnalysis(focusStats);
            
            // Draw charts
            drawDailyChart(tasks);
            drawDistributionChart(tasks);
            drawTrendChart();
        }
        
        function updateTaskAnalytics(tasks) {
            const totalTasks = tasks.length;
            const completedTasks = tasks.filter(t => t.completed).length;
            const pendingTasks = totalTasks - completedTasks;
            const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            // Update UI
            document.getElementById('task-completion-rate').textContent = completionRate + '%';
            document.getElementById('task-progress-bar').style.width = completionRate + '%';
            document.getElementById('total-tasks-count').textContent = totalTasks;
            document.getElementById('completed-tasks-count').textContent = completedTasks;
            document.getElementById('pending-tasks-count').textContent = pendingTasks;
        }
        
        function updateHabitAnalytics(habits) {
            const activeHabits = habits.length;
            let totalStreak = 0;
            let bestStreak = 0;
            
            habits.forEach(habit => {
                totalStreak += habit.streak || 0;
                if (habit.bestStreak > bestStreak) {
                    bestStreak = habit.bestStreak;
                }
            });
            
            const averageStreak = activeHabits > 0 ? Math.round(totalStreak / activeHabits) : 0;
            const consistencyRate = activeHabits > 0 ? Math.round((totalStreak / (activeHabits * 30)) * 100) : 0;
            
            // Update UI
            document.getElementById('habit-consistency').textContent = consistencyRate + '%';
            document.getElementById('habit-progress-bar').style.width = consistencyRate + '%';
            document.getElementById('active-habits-count').textContent = activeHabits;
            document.getElementById('average-streak').textContent = averageStreak + ' days';
            document.getElementById('best-streak').textContent = bestStreak + ' days';
        }
        
        function updateGoalAnalytics(goals) {
            const totalGoals = goals.length;
            const completedGoals = goals.filter(g => g.progress === 100).length;
            const inProgressGoals = totalGoals - completedGoals;
            
            let totalProgress = 0;
            goals.forEach(goal => {
                totalProgress += goal.progress || 0;
            });
            
            const overallProgress = totalGoals > 0 ? Math.round(totalProgress / totalGoals) : 0;
            
            // Update UI
            document.getElementById('goal-progress-rate').textContent = overallProgress + '%';
            document.getElementById('goal-progress-bar').style.width = overallProgress + '%';
            document.getElementById('total-goals-count').textContent = totalGoals;
            document.getElementById('completed-goals-count').textContent = completedGoals;
            document.getElementById('in-progress-goals').textContent = inProgressGoals;
        }
        
        function updateWeeklyAnalytics(tasks) {
            const today = new Date();
            const oneWeekAgo = new Date(today);
            oneWeekAgo.setDate(today.getDate() - 7);
            
            const twoWeeksAgo = new Date(today);
            twoWeeksAgo.setDate(today.getDate() - 14);
            
            // This week's tasks
            const thisWeekTasks = tasks.filter(task => {
                if (!task.completedAt) return false;
                const taskDate = new Date(task.completedAt);
                return taskDate >= oneWeekAgo && taskDate <= today;
            }).length;
            
            // Last week's tasks
            const lastWeekTasks = tasks.filter(task => {
                if (!task.completedAt) return false;
                const taskDate = new Date(task.completedAt);
                return taskDate >= twoWeeksAgo && taskDate < oneWeekAgo;
            }).length;
            
            const weeklyChange = lastWeekTasks > 0 ? 
                Math.round(((thisWeekTasks - lastWeekTasks) / lastWeekTasks) * 100) : 
                (thisWeekTasks > 0 ? 100 : 0);
            
            const productivityScore = Math.min(100, Math.round((thisWeekTasks / 20) * 100));
            
            // Update UI
            document.getElementById('weekly-productivity').textContent = productivityScore + '%';
            document.getElementById('weekly-progress-bar').style.width = productivityScore + '%';
            document.getElementById('this-week-tasks').textContent = thisWeekTasks + ' tasks';
            document.getElementById('last-week-tasks').textContent = lastWeekTasks + ' tasks';
            
            const weeklyChangeElement = document.getElementById('weekly-change');
            weeklyChangeElement.textContent = (weeklyChange >= 0 ? '+' : '') + weeklyChange + '%';
            weeklyChangeElement.className = weeklyChange >= 0 ? 'positive' : 'negative';
        }
        
        function updateTimeAnalysis(focusStats) {
            let totalMinutes = 0;
            let sessionCount = 0;
            let streak = 0;
            
            // Calculate totals from focus stats
            Object.values(focusStats).forEach(day => {
                totalMinutes += day.time || 0;
                sessionCount += day.sessions || 0;
            });
            
            // Calculate streak (consecutive days with focus sessions)
            const dates = Object.keys(focusStats).sort();
            let currentStreak = 0;
            let currentDate = new Date();
            
            for (let i = 0; i < 7; i++) {
                const dateStr = currentDate.toDateString();
                if (focusStats[dateStr] && focusStats[dateStr].sessions > 0) {
                    currentStreak++;
                } else {
                    break;
                }
                currentDate.setDate(currentDate.getDate() - 1);
            }
            
            streak = currentStreak;
            
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            const avgSessionLength = sessionCount > 0 ? Math.round(totalMinutes / sessionCount) : 0;
            
            // Update UI
            document.getElementById('total-focused-time').textContent = `${hours}h ${minutes}m`;
            document.getElementById('avg-session-length').textContent = `${avgSessionLength}m`;
            document.getElementById('focus-streak').textContent = `${streak} days`;
            
            // Simple trend calculation (placeholder)
            const trend = Math.round(Math.random() * 20) - 10;
            const trendElement = document.getElementById('productivity-trend');
            trendElement.textContent = (trend >= 0 ? '+' : '') + trend + '%';
            trendElement.className = trend >= 0 ? 'positive' : 'negative';
        }
        
        function drawDailyChart(tasks) {
            const chartContainer = document.getElementById('daily-chart');
            const last7Days = getLast7Days();
            
            // Count completed tasks per day
            const dailyCounts = {};
            last7Days.forEach(day => {
                dailyCounts[day] = 0;
            });
            
            tasks.forEach(task => {
                if (task.completed && task.completedAt) {
                    const taskDate = new Date(task.completedAt).toDateString();
                    if (dailyCounts[taskDate] !== undefined) {
                        dailyCounts[taskDate]++;
                    }
                }
            });
            
            // Create simple bar chart using divs
            let chartHTML = '<div class="daily-chart-container">';
            
            last7Days.forEach(day => {
                const count = dailyCounts[day] || 0;
                const height = Math.min(count * 20, 100); // Scale to max 5 tasks = 100px
                const date = new Date(day);
                const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
                
                chartHTML += `
                    <div class="daily-bar">
                        <div class="bar-value" style="height: ${height}px" title="${count} tasks"></div>
                        <div class="bar-label">${dayName}</div>
                    </div>
                `;
            });
            
            chartHTML += '</div>';
            chartContainer.innerHTML = chartHTML;
        }
        
        function drawDistributionChart(tasks) {
            const chartContainer = document.getElementById('distribution-chart');
            
            // Count tasks by priority
            const priorityCounts = {
                high: 0,
                medium: 0,
                low: 0
            };
            
            tasks.forEach(task => {
                if (priorityCounts[task.priority] !== undefined) {
                    priorityCounts[task.priority]++;
                }
            });
            
            // Create simple pie chart using conic-gradient
            const total = tasks.length;
            let conicGradient = '';
            let startAngle = 0;
            const colors = {
                high: '#f94144',
                medium: '#f8961e',
                low: '#4cc9f0'
            };
            
            if (total > 0) {
                Object.entries(priorityCounts).forEach(([priority, count]) => {
                    if (count > 0) {
                        const percentage = (count / total) * 100;
                        const endAngle = startAngle + percentage;
                        conicGradient += `${colors[priority]} ${startAngle}% ${endAngle}%, `;
                        startAngle = endAngle;
                    }
                });
                
                // Remove trailing comma and space
                conicGradient = conicGradient.slice(0, -2);
            } else {
                conicGradient = '#e9ecef 0% 100%';
            }
            
            chartContainer.innerHTML = `
                <div class="pie-chart-container">
                    <div class="pie-chart" style="background: conic-gradient(${conicGradient})"></div>
                    <div class="pie-legend">
                        ${Object.entries(priorityCounts).map(([priority, count]) => `
                            <div class="legend-item">
                                <span class="legend-color" style="background-color: ${colors[priority]}"></span>
                                <span class="legend-label">${priority.charAt(0).toUpperCase() + priority.slice(1)}: ${count}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }
        
        function drawTrendChart() {
            const chartContainer = document.getElementById('trend-chart');
            
            // Generate random trend data for demonstration
            const dataPoints = [];
            let value = 50;
            
            for (let i = 0; i < 7; i++) {
                value += Math.random() * 20 - 10; // Random walk
                value = Math.max(0, Math.min(100, value)); // Clamp between 0-100
                dataPoints.push(Math.round(value));
            }
            
            // Create line chart using SVG
            const width = 300;
            const height = 150;
            const padding = 20;
            const chartWidth = width - 2 * padding;
            const chartHeight = height - 2 * padding;
            
            // Calculate points
            const points = dataPoints.map((value, index) => {
                const x = padding + (index / (dataPoints.length - 1)) * chartWidth;
                const y = padding + ((100 - value) / 100) * chartHeight;
                return `${x},${y}`;
            }).join(' ');
            
            chartContainer.innerHTML = `
                <svg width="${width}" height="${height}" class="trend-svg">
                    <!-- Grid lines -->
                    <line x1="${padding}" y1="${padding}" x2="${padding}" y2="${height - padding}" stroke="#e9ecef" />
                    <line x1="${padding}" y1="${height - padding}" x2="${width - padding}" y2="${height - padding}" stroke="#e9ecef" />
                    
                    <!-- Trend line -->
                    <polyline points="${points}" fill="none" stroke="#4361ee" stroke-width="2" />
                    
                    <!-- Data points -->
                    ${dataPoints.map((value, index) => {
                        const x = padding + (index / (dataPoints.length - 1)) * chartWidth;
                        const y = padding + ((100 - value) / 100) * chartHeight;
                        return `<circle cx="${x}" cy="${y}" r="3" fill="#4361ee" />`;
                    }).join('')}
                </svg>
            `;
        }
        
        function getLast7Days() {
            const days = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                days.push(date.toDateString());
            }
            return days;
        }
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize sample data if needed
            if (typeof SelfMasterData !== 'undefined') {
                SelfMasterData.initializeSampleData();
            }
            
            loadAnalytics();
            
            // Mobile menu
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const nav = document.querySelector('nav ul');
            
            if (mobileMenuBtn && nav) {
                mobileMenuBtn.addEventListener('click', function() {
                    nav.classList.toggle('show');
                    mobileMenuBtn.innerHTML = nav.classList.contains('show') 
                        ? '<i class="fas fa-times"></i>' 
                        : '<i class="fas fa-bars"></i>';
                });
            }
            
            // Refresh button (optional)
            const refreshBtn = document.createElement('button');
            refreshBtn.className = 'btn btn-small';
            refreshBtn.innerHTML = '<i class="fas fa-sync"></i> Refresh';
            refreshBtn.style.position = 'fixed';
            refreshBtn.style.bottom = '20px';
            refreshBtn.style.right = '20px';
            refreshBtn.style.zIndex = '1000';
            refreshBtn.onclick = loadAnalytics;
            document.body.appendChild(refreshBtn);
        });
    </script>
    
    <style>
        /* Additional styles for analytics page */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .stats-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }
        
        .stats-card h3 {
            margin-bottom: 1rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .stat-content {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            margin: 0.5rem 0;
        }
        
        .stat-label {
            color: var(--gray);
            margin-bottom: 1rem;
        }
        
        .progress-bar {
            height: 8px;
            background: var(--gray-light);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .progress-bar .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--success));
            transition: width 0.5s ease;
        }
        
        .stat-details {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--gray-light);
            text-align: left;
        }
        
        .stat-details p {
            margin: 0.3rem 0;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
        }
        
        .stat-details span {
            font-weight: 600;
        }
        
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }
        
        .chart-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }
        
        .chart-card h3 {
            margin-bottom: 1rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .chart-placeholder {
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9ff;
            border-radius: 5px;
        }
        
        /* Daily chart styles */
        .daily-chart-container {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 150px;
            padding: 20px;
        }
        
        .daily-bar {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
        }
        
        .bar-value {
            width: 30px;
            background: linear-gradient(to top, var(--primary), var(--primary-light));
            border-radius: 5px 5px 0 0;
            transition: height 0.3s ease;
        }
        
        .bar-label {
            margin-top: 5px;
            font-size: 0.8rem;
            color: var(--gray);
        }
        
        /* Pie chart styles */
        .pie-chart-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
        }
        
        .pie-chart {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .pie-legend {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }
        
        .legend-label {
            font-size: 0.9rem;
        }
        
        /* Trend chart styles */
        .trend-svg {
            width: 100%;
            height: 150px;
        }
        
        /* Time analysis */
        .time-analysis {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-top: 3rem;
        }
        
        .time-analysis h2 {
            margin-bottom: 2rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .time-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        
        .time-stat {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .time-icon {
            width: 50px;
            height: 50px;
            background: var(--primary-light);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .time-content {
            flex: 1;
        }
        
        .time-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--dark);
        }
        
        .time-label {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        /* Positive/negative indicators */
        .positive {
            color: var(--success);
        }
        
        .negative {
            color: var(--danger);
        }
        
        @media (max-width: 768px) {
            .analytics-grid {
                grid-template-columns: 1fr;
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .time-stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .pie-chart-container {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</body>
</html>