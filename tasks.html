<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Task Manager | SelfMaster</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --urgent: #ff4757;
            --important: #ffa502;
            --focus: #2ed573;
            --delegate: #747d8c;
            --planning: #3742fa;
            --review: #9c88ff;
        }

        /* Enhanced Layout */
        .task-dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
            min-height: calc(100vh - 200px);
        }

        @media (max-width: 1024px) {
            .task-dashboard {
                grid-template-columns: 1fr;
            }
        }

        /* Sidebar */
        .task-sidebar {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .sidebar-section {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }

        .sidebar-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .sidebar-section h3 {
            font-size: 1rem;
            color: var(--dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Smart Filters */
        .smart-filter {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .smart-filter:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .smart-filter.active {
            background: var(--primary);
            color: white;
        }

        .filter-count {
            background: white;
            color: var(--dark);
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .smart-filter.active .filter-count {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        /* Matrix Visualization */
        .matrix-preview {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 1rem;
        }

        .matrix-quadrant-preview {
            height: 80px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 0.8rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .matrix-quadrant-preview:hover {
            transform: scale(1.05);
        }

        .quadrant-1-preview {
            background: linear-gradient(135deg, var(--urgent), #ff6b81);
        }

        .quadrant-2-preview {
            background: linear-gradient(135deg, var(--focus), #7bed9f);
        }

        .quadrant-3-preview {
            background: linear-gradient(135deg, var(--important), #ffb142);
        }

        .quadrant-4-preview {
            background: linear-gradient(135deg, var(--delegate), #a4b0be);
        }

        .quadrant-count {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        /* Progress Visualization */
        .progress-ring {
            width: 120px;
            height: 120px;
            margin: 1rem auto;
        }

        .progress-circle {
            transform: rotate(-90deg);
        }

        .progress-bg {
            fill: none;
            stroke: #e9ecef;
            stroke-width: 8;
        }

        .progress-fill {
            fill: none;
            stroke: var(--primary);
            stroke-width: 8;
            stroke-linecap: round;
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 1s ease;
        }

        .progress-text {
            text-anchor: middle;
            dominant-baseline: middle;
            font-size: 24px;
            font-weight: bold;
            fill: var(--dark);
        }

        .progress-label {
            text-anchor: middle;
            font-size: 12px;
            fill: var(--gray);
        }

        /* Main Content */
        .task-main {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* Action Bar */
        .task-action-bar {
            background: white;
            border-radius: 15px;
            padding: 1rem 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .view-controls {
            display: flex;
            gap: 0.5rem;
        }

        .view-btn {
            padding: 0.5rem 1rem;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        .view-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .view-btn:hover:not(.active) {
            background: #e9ecef;
        }

        .sort-controls select {
            padding: 0.5rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            background: white;
            font-size: 0.9rem;
            cursor: pointer;
        }

        /* Task Views */
        .task-view {
            display: none;
        }

        .task-view.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* List View */
        .task-list-view {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        /* Card View */
        .task-grid-view {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .task-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            border-left: 5px solid var(--primary);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .task-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .task-card.priority-high {
            border-left-color: var(--urgent);
        }

        .task-card.priority-medium {
            border-left-color: var(--important);
        }

        .task-card.priority-low {
            border-left-color: var(--focus);
        }

        .task-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .task-card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .task-card-description {
            color: var(--gray);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .task-card-meta {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }

        .task-meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            color: var(--gray);
        }

        .task-card-actions {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .task-card:hover .task-card-actions {
            opacity: 1;
        }

        /* Calendar View */
        .calendar-view {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
        }

        .calendar-day-header {
            background: var(--primary);
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: 600;
        }

        .calendar-day {
            background: white;
            min-height: 120px;
            padding: 0.5rem;
            position: relative;
        }

        .calendar-day.current {
            background: #f8f9ff;
        }

        .day-number {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .day-tasks {
            max-height: 80px;
            overflow-y: auto;
        }

        .day-task {
            background: var(--primary-light);
            color: white;
            padding: 2px 5px;
            border-radius: 3px;
            margin-bottom: 2px;
            font-size: 0.8rem;
            cursor: pointer;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Matrix View */
        .matrix-view {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .matrix-container-advanced {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 1rem;
            height: 500px;
        }

        .matrix-quadrant-advanced {
            border-radius: 10px;
            padding: 1rem;
            overflow-y: auto;
            position: relative;
        }

        .quadrant-label-advanced {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.9);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* Task Form Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 2rem;
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        .form-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #eee;
            padding-bottom: 0.5rem;
        }

        .form-tab {
            padding: 0.5rem 1rem;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-weight: 500;
            color: var(--gray);
            transition: all 0.3s ease;
        }

        .form-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .form-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .form-section.active {
            display: block;
        }

        /* Advanced Form Elements */
        .smart-estimation {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .time-estimate {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: #f8f9fa;
            border-radius: 25px;
        }

        .energy-level {
            display: flex;
            gap: 0.5rem;
        }

        .energy-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid #e9ecef;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .energy-btn.active {
            transform: scale(1.1);
        }

        .energy-btn.low { background: #2ed573; }
        .energy-btn.medium { background: #ffa502; }
        .energy-btn.high { background: #ff4757; }

        /* Task Dependencies */
        .dependency-list {
            margin-top: 1rem;
        }

        .dependency-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 5px;
            margin-bottom: 0.5rem;
        }

        /* Bulk Actions */
        .bulk-actions {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            box-shadow: 0 4px 20px rgba(67, 97, 238, 0.3);
            display: flex;
            align-items: center;
            gap: 1rem;
            z-index: 100;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translate(-50%, 20px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        /* Statistics */
        .stats-grid-advanced {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary);
            margin: 0.5rem 0;
        }

        /* Progress Bars */
        .progress-bars {
            margin-top: 1rem;
        }

        .progress-item {
            margin-bottom: 0.8rem;
        }

        .progress-label-small {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.3rem;
            font-size: 0.9rem;
            color: var(--gray);
        }

        .progress-bar-small {
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill-small {
            height: 100%;
            background: var(--primary);
            border-radius: 3px;
            transition: width 1s ease;
        }

        /* Animations */
        .task-item {
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .task-action-bar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .view-controls {
                justify-content: center;
            }
            
            .task-grid-view {
                grid-template-columns: 1fr;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                font-size: 0.9rem;
            }
            
            .calendar-day-header,
            .calendar-day {
                padding: 0.3rem;
            }
            
            .matrix-container-advanced {
                grid-template-columns: 1fr;
                grid-template-rows: repeat(4, 1fr);
                height: auto;
                min-height: 800px;
            }
        }

        /* Empty States */
        .empty-state-enhanced {
            text-align: center;
            padding: 3rem;
            color: var(--gray);
        }

        .empty-state-enhanced i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary-light);
            opacity: 0.5;
        }

        /* Loading States */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Task Status Indicators */
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .status-pending { background: var(--warning); }
        .status-in-progress { background: var(--primary); }
        .status-completed { background: var(--success); }
        .status-blocked { background: var(--danger); }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-light);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        /* Context Menu */
        .context-menu {
            position: absolute;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            min-width: 150px;
            display: none;
        }

        .context-menu.active {
            display: block;
            animation: fadeIn 0.2s ease;
        }

        .context-menu-item {
            padding: 0.8rem 1rem;
            cursor: pointer;
            transition: background 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: 1px solid #eee;
        }

        .context-menu-item:last-child {
            border-bottom: none;
        }

        .context-menu-item:hover {
            background: #f8f9fa;
        }

        /* Drag and Drop */
        .draggable {
            cursor: move;
        }

        .drag-over {
            border: 2px dashed var(--primary);
            background: rgba(67, 97, 238, 0.05);
        }

        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--accent);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Quick Actions */
        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .quick-action-btn {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quick-action-btn:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .quick-action-btn i {
            font-size: 1.5rem;
            color: var(--primary);
        }

        /* Progress Animation */
        .progress-animation {
            position: relative;
            overflow: hidden;
        }

        .progress-animation::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            100% {
                left: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-brain"></i>
                <span><a href="index.html" style="color: inherit; text-decoration: none;">SelfMaster</a></span>
            </div>
            <nav id="main-nav">
                <ul>
                    <li><a href="tasks.html" class="active"><i class="fas fa-tasks"></i> Tasks</a></li>
                    <li><a href="projects.html"><i class="fas fa-project-diagram"></i> Projects</a></li>
                    <li><a href="calendar.html"><i class="fas fa-calendar"></i> Calendar</a></li>
                    <li><a href="goals.html"><i class="fas fa-bullseye"></i> Goals</a></li>
                    <li><a href="habits.html"><i class="fas fa-running"></i> Habits</a></li>
                    <li><a href="notes.html"><i class="fas fa-sticky-note"></i> Notes</a></li>
                    <li><a href="reviews.html"><i class="fas fa-chart-bar"></i> Reviews</a></li>
                    <li><a href="analytics.html"><i class="fas fa-chart-line"></i> Analytics</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1><i class="fas fa-tasks"></i> Advanced Task Manager</h1>
            <p>Smart task management with Eisenhower Matrix, time tracking, and AI-powered prioritization</p>
        </div>
    </section>

    <!-- Task Dashboard -->
    <div class="container">
        <div class="task-dashboard">
            <!-- Sidebar -->
            <aside class="task-sidebar">
                <!-- Quick Actions -->
                <div class="sidebar-section">
                    <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                    <div class="quick-actions-grid">
                        <button class="quick-action-btn" onclick="showTaskModal()">
                            <i class="fas fa-plus"></i>
                            <span>New Task</span>
                        </button>
                        <button class="quick-action-btn" onclick="enterFocusMode()">
                            <i class="fas fa-crosshairs"></i>
                            <span>Focus Mode</span>
                        </button>
                        <button class="quick-action-btn" onclick="quickSort('priority')">
                            <i class="fas fa-sort-amount-down"></i>
                            <span>Sort by Priority</span>
                        </button>
                        <button class="quick-action-btn" onclick="exportAllTasks()">
                            <i class="fas fa-download"></i>
                            <span>Export All</span>
                        </button>
                    </div>
                </div>

                <!-- Smart Filters -->
                <div class="sidebar-section">
                    <h3><i class="fas fa-filter"></i> Smart Filters</h3>
                    <div class="smart-filter active" data-filter="all" onclick="setFilter('all')">
                        <span>All Tasks</span>
                        <span class="filter-count" id="count-all">0</span>
                    </div>
                    <div class="smart-filter" data-filter="today" onclick="setFilter('today')">
                        <span><i class="fas fa-sun"></i> Today</span>
                        <span class="filter-count" id="count-today">0</span>
                    </div>
                    <div class="smart-filter" data-filter="overdue" onclick="setFilter('overdue')">
                        <span><i class="fas fa-exclamation-circle"></i> Overdue</span>
                        <span class="filter-count" id="count-overdue">0</span>
                    </div>
                    <div class="smart-filter" data-filter="high-priority" onclick="setFilter('high')">
                        <span><i class="fas fa-fire"></i> High Priority</span>
                        <span class="filter-count" id="count-high">0</span>
                    </div>
                    <div class="smart-filter" data-filter="upcoming" onclick="setFilter('upcoming')">
                        <span><i class="fas fa-calendar-alt"></i> Upcoming</span>
                        <span class="filter-count" id="count-upcoming">0</span>
                    </div>
                    <div class="smart-filter" data-filter="completed" onclick="setFilter('completed')">
                        <span><i class="fas fa-check-circle"></i> Completed</span>
                        <span class="filter-count" id="count-completed">0</span>
                    </div>
                </div>

                <!-- Eisenhower Matrix Preview -->
                <div class="sidebar-section">
                    <h3><i class="fas fa-th"></i> Eisenhower Matrix</h3>
                    <div class="matrix-preview">
                        <div class="matrix-quadrant-preview quadrant-1-preview" onclick="setMatrixView(1)">
                            <div class="quadrant-count" id="matrix-count-1">0</div>
                            <div>Urgent & Important</div>
                        </div>
                        <div class="matrix-quadrant-preview quadrant-2-preview" onclick="setMatrixView(2)">
                            <div class="quadrant-count" id="matrix-count-2">0</div>
                            <div>Not Urgent & Important</div>
                        </div>
                        <div class="matrix-quadrant-preview quadrant-3-preview" onclick="setMatrixView(3)">
                            <div class="quadrant-count" id="matrix-count-3">0</div>
                            <div>Urgent & Not Important</div>
                        </div>
                        <div class="matrix-quadrant-preview quadrant-4-preview" onclick="setMatrixView(4)">
                            <div class="quadrant-count" id="matrix-count-4">0</div>
                            <div>Not Urgent & Not Important</div>
                        </div>
                    </div>
                </div>

                <!-- Progress Overview -->
                <div class="sidebar-section">
                    <h3><i class="fas fa-chart-line"></i> Progress</h3>
                    <div class="progress-ring">
                        <svg viewBox="0 0 100 100">
                            <circle class="progress-bg" cx="50" cy="50" r="45"></circle>
                            <circle class="progress-fill" cx="50" cy="50" r="45"></circle>
                            <text class="progress-text" x="50" y="50">0%</text>
                            <text class="progress-label" x="50" y="65">Completion</text>
                        </svg>
                    </div>
                    <div class="progress-bars">
                        <div class="progress-item">
                            <div class="progress-label-small">
                                <span>High Priority</span>
                                <span id="progress-high">0%</span>
                            </div>
                            <div class="progress-bar-small">
                                <div class="progress-fill-small" id="progress-bar-high" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-label-small">
                                <span>Due Today</span>
                                <span id="progress-today">0%</span>
                            </div>
                            <div class="progress-bar-small">
                                <div class="progress-fill-small" id="progress-bar-today" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="task-main">
                <!-- Action Bar -->
                <div class="task-action-bar">
                    <div class="view-controls">
                        <button class="view-btn active" data-view="list" onclick="setView('list')">
                            <i class="fas fa-list"></i> List
                        </button>
                        <button class="view-btn" data-view="grid" onclick="setView('grid')">
                            <i class="fas fa-th-large"></i> Grid
                        </button>
                        <button class="view-btn" data-view="calendar" onclick="setView('calendar')">
                            <i class="fas fa-calendar"></i> Calendar
                        </button>
                        <button class="view-btn" data-view="matrix" onclick="setView('matrix')">
                            <i class="fas fa-th"></i> Matrix
                        </button>
                    </div>
                    <div class="sort-controls">
                        <select id="sort-select" onchange="sortTasks(this.value)">
                            <option value="priority">Sort by Priority</option>
                            <option value="dueDate">Sort by Due Date</option>
                            <option value="createdAt">Sort by Created</option>
                            <option value="title">Sort by Title</option>
                            <option value="energy">Sort by Energy</option>
                        </select>
                    </div>
                </div>

                <!-- List View -->
                <div class="task-view active" id="list-view">
                    <div class="task-list-view">
                        <div class="task-list-header">
                            <h3>Task List</h3>
                            <div class="selected-count" id="selected-count">0 selected</div>
                        </div>
                        <div id="task-list-container">
                            <!-- Tasks will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Grid View -->
                <div class="task-view" id="grid-view">
                    <div class="task-grid-view" id="task-grid-container">
                        <!-- Task cards will be loaded here -->
                    </div>
                </div>

                <!-- Calendar View -->
                <div class="task-view" id="calendar-view">
                    <div class="calendar-view">
                        <div class="calendar-header">
                            <button onclick="prevMonth()"><i class="fas fa-chevron-left"></i></button>
                            <h3 id="current-month">January 2024</h3>
                            <button onclick="nextMonth()"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="calendar-grid" id="calendar-grid">
                            <!-- Calendar will be generated here -->
                        </div>
                    </div>
                </div>

                <!-- Matrix View -->
                <div class="task-view" id="matrix-view">
                    <div class="matrix-view">
                        <div class="matrix-container-advanced">
                            <div class="matrix-quadrant-advanced quadrant-1-preview" id="quadrant-1" data-quadrant="1">
                                <div class="quadrant-label-advanced">Urgent & Important</div>
                                <div class="quadrant-tasks" id="quadrant-tasks-1"></div>
                            </div>
                            <div class="matrix-quadrant-advanced quadrant-2-preview" id="quadrant-2" data-quadrant="2">
                                <div class="quadrant-label-advanced">Important & Not Urgent</div>
                                <div class="quadrant-tasks" id="quadrant-tasks-2"></div>
                            </div>
                            <div class="matrix-quadrant-advanced quadrant-3-preview" id="quadrant-3" data-quadrant="3">
                                <div class="quadrant-label-advanced">Urgent & Not Important</div>
                                <div class="quadrant-tasks" id="quadrant-tasks-3"></div>
                            </div>
                            <div class="matrix-quadrant-advanced quadrant-4-preview" id="quadrant-4" data-quadrant="4">
                                <div class="quadrant-label-advanced">Not Urgent & Not Important</div>
                                <div class="quadrant-tasks" id="quadrant-tasks-4"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Task Form Modal -->
    <div class="modal" id="task-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="hideTaskModal()">&times;</button>
            <h2><i class="fas fa-plus-circle"></i> Create New Task</h2>
            
            <div class="form-tabs">
                <button class="form-tab active" data-tab="basic">Basic Info</button>
                <button class="form-tab" data-tab="advanced">Advanced</button>
                <button class="form-tab" data-tab="dependencies">Dependencies</button>
                <button class="form-tab" data-tab="recurring">Recurring</button>
            </div>

            <form id="advanced-task-form">
                <!-- Basic Info Tab -->
                <div class="form-section active" id="basic-tab">
                    <div class="form-group">
                        <label for="task-title">Task Title *</label>
                        <input type="text" id="task-title" placeholder="What needs to be done?" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="task-description">Description</label>
                        <textarea id="task-description" rows="3" placeholder="Detailed description, requirements, notes..."></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-priority">Priority *</label>
                            <select id="task-priority" required>
                                <option value="">Select Priority</option>
                                <option value="urgent">Urgent & Important</option>
                                <option value="high">High Priority</option>
                                <option value="medium">Medium Priority</option>
                                <option value="low">Low Priority</option>
                                <option value="delegate">Delegate</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="task-status">Status</label>
                            <select id="task-status">
                                <option value="pending">Pending</option>
                                <option value="in-progress">In Progress</option>
                                <option value="completed">Completed</option>
                                <option value="blocked">Blocked</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-due">Due Date *</label>
                            <input type="date" id="task-due" required>
                        </div>
                        <div class="form-group">
                            <label for="task-time">Time Estimate</label>
                            <input type="text" id="task-time" placeholder="e.g., 2 hours">
                        </div>
                    </div>
                </div>

                <!-- Advanced Tab -->
                <div class="form-section" id="advanced-tab">
                    <div class="form-group">
                        <label>Smart Estimation</label>
                        <div class="smart-estimation">
                            <div class="time-estimate">
                                <i class="fas fa-clock"></i>
                                <input type="range" id="time-slider" min="15" max="480" step="15" value="60">
                                <span id="time-value">1 hour</span>
                            </div>
                            <div class="energy-level">
                                <label>Energy Required:</label>
                                <button type="button" class="energy-btn low" data-energy="low" onclick="setEnergyLevel('low')"></button>
                                <button type="button" class="energy-btn medium" data-energy="medium" onclick="setEnergyLevel('medium')"></button>
                                <button type="button" class="energy-btn high" data-energy="high" onclick="setEnergyLevel('high')"></button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="task-category">Category</label>
                        <select id="task-category">
                            <option value="">Select Category</option>
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="health">Health</option>
                            <option value="learning">Learning</option>
                            <option value="finance">Finance</option>
                            <option value="social">Social</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="task-tags">Tags</label>
                        <input type="text" id="task-tags" placeholder="Enter tags separated by commas">
                        <div id="tag-suggestions" class="tag-suggestions"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="task-project">Project</label>
                        <input type="text" id="task-project" placeholder="Associate with a project">
                    </div>
                </div>

                <!-- Dependencies Tab -->
                <div class="form-section" id="dependencies-tab">
                    <div class="form-group">
                        <label>Blocked By</label>
                        <div class="dependency-list" id="blocked-by-list">
                            <!-- Dependencies will be added here -->
                        </div>
                        <button type="button" class="btn-small" onclick="addDependency('blocked-by')">
                            <i class="fas fa-plus"></i> Add Dependency
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label>Blocks</label>
                        <div class="dependency-list" id="blocks-list">
                            <!-- Dependent tasks will be added here -->
                        </div>
                        <button type="button" class="btn-small" onclick="addDependency('blocks')">
                            <i class="fas fa-plus"></i> Add Dependent Task
                        </button>
                    </div>
                </div>

                <!-- Recurring Tab -->
                <div class="form-section" id="recurring-tab">
                    <div class="form-group">
                        <label for="recurrence-type">Recurrence</label>
                        <select id="recurrence-type" onchange="toggleRecurrenceOptions()">
                            <option value="none">No Recurrence</option>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                            <option value="yearly">Yearly</option>
                            <option value="custom">Custom</option>
                        </select>
                    </div>
                    
                    <div id="recurrence-options" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="recurrence-interval">Every</label>
                                <input type="number" id="recurrence-interval" min="1" value="1">
                                <span id="interval-unit">days</span>
                            </div>
                            <div class="form-group">
                                <label for="recurrence-end">Ends</label>
                                <select id="recurrence-end">
                                    <option value="never">Never</option>
                                    <option value="after">After</option>
                                    <option value="on">On Date</option>
                                </select>
                            </div>
                        </div>
                        
                        <div id="weekly-options" style="display: none;">
                            <label>Repeat on:</label>
                            <div class="weekday-selector">
                                <button type="button" class="weekday-btn" data-day="mon">Mon</button>
                                <button type="button" class="weekday-btn" data-day="tue">Tue</button>
                                <button type="button" class="weekday-btn" data-day="wed">Wed</button>
                                <button type="button" class="weekday-btn" data-day="thu">Thu</button>
                                <button type="button" class="weekday-btn" data-day="fri">Fri</button>
                                <button type="button" class="weekday-btn" data-day="sat">Sat</button>
                                <button type="button" class="weekday-btn" data-day="sun">Sun</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Create Task
                    </button>
                    <button type="button" class="btn btn-outline" onclick="hideTaskModal()">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="context-menu">
        <div class="context-menu-item" onclick="editSelectedTask()">
            <i class="fas fa-edit"></i> Edit
        </div>
        <div class="context-menu-item" onclick="deleteSelectedTask()">
            <i class="fas fa-trash"></i> Delete
        </div>
        <div class="context-menu-item" onclick="duplicateSelectedTask()">
            <i class="fas fa-copy"></i> Duplicate
        </div>
        <div class="context-menu-item" onclick="markAsComplete()">
            <i class="fas fa-check"></i> Mark Complete
        </div>
        <div class="context-menu-item" onclick="setPriority('high')">
            <i class="fas fa-fire"></i> Set High Priority
        </div>
        <div class="context-menu-item" onclick="moveToToday()">
            <i class="fas fa-calendar-day"></i> Move to Today
        </div>
    </div>

    <!-- Bulk Actions Bar -->
    <div class="bulk-actions" id="bulk-actions" style="display: none;">
        <span id="bulk-count">0 tasks selected</span>
        <button onclick="markSelectedComplete()" class="btn-small btn-outline">Mark Complete</button>
        <button onclick="deleteSelected()" class="btn-small btn-outline">Delete</button>
        <button onclick="clearSelection()" class="btn-small btn-outline">Clear</button>
    </div>
<br>
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h4>SelfMaster</h4>
                    <p>Advanced task management system with smart features for productivity and focus.</p>
                </div>
                <div class="footer-column">
                    <h4>Task Features</h4>
                    <ul>
                        <li><a href="#">Eisenhower Matrix</a></li>
                        <li><a href="#">Time Tracking</a></li>
                        <li><a href="#">Smart Prioritization</a></li>
                        <li><a href="#">Dependency Tracking</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Dashboard</a></li>
                        <li><a href="projects.html">Projects</a></li>
                        <li><a href="calendar.html">Calendar</a></li>
                        <li><a href="analytics.html">Analytics</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 SelfMaster. Advanced Task Management System.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Advanced Task Management System
        class AdvancedTaskManager {
            constructor() {
                this.currentFilter = 'all';
                this.currentView = 'list';
                this.currentSort = 'priority';
                this.selectedTasks = new Set();
                this.currentMonth = new Date().getMonth();
                this.currentYear = new Date().getFullYear();
                this.contextMenuTaskId = null;
                this.energyLevel = 'medium';
                this.recurringDays = new Set();
            }

            initialize() {
                this.setupEventListeners();
                this.loadTasks();
                this.updateStatistics();
                this.generateCalendar();
                this.setupDragAndDrop();
                this.setupKeyboardShortcuts();
            }

            setupEventListeners() {
                // Tab switching
                document.querySelectorAll('.form-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => this.switchTab(e.target.dataset.tab));
                });

                // View switching
                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => this.setView(e.target.closest('.view-btn').dataset.view));
                });

                // Filter switching
                document.querySelectorAll('.smart-filter').forEach(filter => {
                    filter.addEventListener('click', (e) => this.setFilter(e.target.closest('.smart-filter').dataset.filter));
                });

                // Time slider
                const timeSlider = document.getElementById('time-slider');
                if (timeSlider) {
                    timeSlider.addEventListener('input', (e) => {
                        const minutes = parseInt(e.target.value);
                        const hours = Math.floor(minutes / 60);
                        const mins = minutes % 60;
                        document.getElementById('time-value').textContent = 
                            hours > 0 ? `${hours} hour${hours > 1 ? 's' : ''} ${mins > 0 ? `${mins} minutes` : ''}`.trim() :
                            `${mins} minutes`;
                    });
                }

                // Weekday selector
                document.querySelectorAll('.weekday-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const day = e.target.dataset.day;
                        e.target.classList.toggle('active');
                        if (this.recurringDays.has(day)) {
                            this.recurringDays.delete(day);
                        } else {
                            this.recurringDays.add(day);
                        }
                    });
                });

                // Context menu
                document.addEventListener('click', () => this.hideContextMenu());
                document.addEventListener('contextmenu', (e) => {
                    const taskElement = e.target.closest('.task-item, .task-card');
                    if (taskElement) {
                        e.preventDefault();
                        this.showContextMenu(e.clientX, e.clientY, taskElement.dataset.taskId);
                    }
                });

                // Form submission
                const form = document.getElementById('advanced-task-form');
                if (form) {
                    form.addEventListener('submit', (e) => this.handleFormSubmit(e));
                }
            }

            async loadTasks() {
                try {
                    // Show loading state
                    this.showLoading();
                    
                    // Load from localStorage
                    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                    
                    // Apply current filter and sort
                    const filteredTasks = this.filterTasks(tasks);
                    const sortedTasks = this.sortTasks(filteredTasks);
                    
                    // Update UI based on current view
                    this.updateTaskView(sortedTasks);
                    
                    // Update statistics
                    this.updateStatistics(tasks);
                    
                    // Update matrix counts
                    this.updateMatrixCounts(tasks);
                    
                    // Update calendar
                    this.updateCalendarTasks(tasks);
                    
                } catch (error) {
                    console.error('Error loading tasks:', error);
                    this.showError('Failed to load tasks');
                } finally {
                    this.hideLoading();
                }
            }

            filterTasks(tasks) {
                const today = new Date().toISOString().split('T')[0];
                const tomorrow = new Date(Date.now() + 86400000).toISOString().split('T')[0];
                
                switch(this.currentFilter) {
                    case 'today':
                        return tasks.filter(task => task.dueDate === today);
                    case 'overdue':
                        return tasks.filter(task => 
                            !task.completed && 
                            task.dueDate && 
                            new Date(task.dueDate) < new Date(today)
                        );
                    case 'high':
                        return tasks.filter(task => 
                            ['urgent', 'high'].includes(task.priority) && !task.completed
                        );
                    case 'upcoming':
                        return tasks.filter(task => 
                            !task.completed && 
                            task.dueDate && 
                            new Date(task.dueDate) >= new Date(tomorrow)
                        );
                    case 'completed':
                        return tasks.filter(task => task.completed);
                    case 'all':
                    default:
                        return tasks;
                }
            }

            sortTasks(tasks) {
                switch(this.currentSort) {
                    case 'priority':
                        const priorityOrder = { 'urgent': 0, 'high': 1, 'medium': 2, 'low': 3, 'delegate': 4 };
                        return tasks.sort((a, b) => 
                            (priorityOrder[a.priority] || 5) - (priorityOrder[b.priority] || 5) ||
                            new Date(a.dueDate || '9999-12-31') - new Date(b.dueDate || '9999-12-31')
                        );
                    case 'dueDate':
                        return tasks.sort((a, b) => 
                            new Date(a.dueDate || '9999-12-31') - new Date(b.dueDate || '9999-12-31') ||
                            (a.priority === 'urgent' ? -1 : 0)
                        );
                    case 'createdAt':
                        return tasks.sort((a, b) => 
                            new Date(b.createdAt) - new Date(a.createdAt)
                        );
                    case 'title':
                        return tasks.sort((a, b) => 
                            a.title.localeCompare(b.title)
                        );
                    case 'energy':
                        const energyOrder = { 'high': 0, 'medium': 1, 'low': 2 };
                        return tasks.sort((a, b) => 
                            (energyOrder[a.energy] || 3) - (energyOrder[b.energy] || 3)
                        );
                    default:
                        return tasks;
                }
            }

            updateTaskView(tasks) {
                switch(this.currentView) {
                    case 'list':
                        this.renderListView(tasks);
                        break;
                    case 'grid':
                        this.renderGridView(tasks);
                        break;
                    case 'matrix':
                        this.renderMatrixView(tasks);
                        break;
                    // Calendar is handled separately
                }
            }

            renderListView(tasks) {
                const container = document.getElementById('task-list-container');
                if (!container) return;

                if (tasks.length === 0) {
                    container.innerHTML = this.getEmptyState(this.currentFilter);
                    return;
                }

                container.innerHTML = tasks.map(task => `
                    <div class="task-item draggable" data-task-id="${task.id}" draggable="true">
                        <div class="task-checkbox">
                            <input type="checkbox" ${task.completed ? 'checked' : ''} 
                                   onchange="taskManager.toggleTaskCompletion(${task.id})">
                        </div>
                        <div class="task-content ${task.completed ? 'completed' : ''}">
                            <div class="task-header">
                                <h4 class="task-title">${task.title}</h4>
                                <div class="task-meta">
                                    <span class="task-priority-badge priority-${task.priority}">
                                        ${task.priority}
                                    </span>
                                    ${task.dueDate ? `
                                        <span class="task-date ${this.isOverdue(task) ? 'overdue' : ''}">
                                            <i class="fas fa-calendar"></i>
                                            ${this.formatDate(task.dueDate)}
                                        </span>
                                    ` : ''}
                                </div>
                            </div>
                            ${task.description ? `
                                <p class="task-description">${task.description}</p>
                            ` : ''}
                            <div class="task-footer">
                                <div class="task-tags">
                                    ${(task.tags || []).map(tag => `
                                        <span class="task-tag">${tag}</span>
                                    `).join('')}
                                </div>
                                <div class="task-actions">
                                    <button class="action-btn" onclick="taskManager.editTask(${task.id})">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="action-btn" onclick="taskManager.deleteTask(${task.id})">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            renderGridView(tasks) {
                const container = document.getElementById('task-grid-container');
                if (!container) return;

                if (tasks.length === 0) {
                    container.innerHTML = this.getEmptyState(this.currentFilter);
                    return;
                }

                container.innerHTML = tasks.map(task => `
                    <div class="task-card draggable ${task.completed ? 'completed' : ''} 
                         ${task.priority ? 'priority-' + task.priority : ''}" 
                         data-task-id="${task.id}" draggable="true">
                        <div class="task-card-header">
                            <div class="task-checkbox">
                                <input type="checkbox" ${task.completed ? 'checked' : ''} 
                                       onchange="taskManager.toggleTaskCompletion(${task.id})">
                            </div>
                            <div class="task-card-actions">
                                <button class="action-btn" onclick="taskManager.editTask(${task.id})">
                                    <i class="fas fa-edit"></i>
                                </button>
                            </div>
                        </div>
                        <h3 class="task-card-title">${task.title}</h3>
                        ${task.description ? `
                            <p class="task-card-description">${task.description}</p>
                        ` : ''}
                        <div class="task-card-meta">
                            ${task.dueDate ? `
                                <div class="task-meta-item ${this.isOverdue(task) ? 'overdue' : ''}">
                                    <i class="fas fa-calendar"></i>
                                    <span>${this.formatDate(task.dueDate)}</span>
                                </div>
                            ` : ''}
                            ${task.timeEstimate ? `
                                <div class="task-meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>${task.timeEstimate}</span>
                                </div>
                            ` : ''}
                        </div>
                        ${task.tags && task.tags.length > 0 ? `
                            <div class="task-tags">
                                ${task.tags.slice(0, 3).map(tag => `
                                    <span class="task-tag">${tag}</span>
                                `).join('')}
                                ${task.tags.length > 3 ? `<span class="task-tag-more">+${task.tags.length - 3}</span>` : ''}
                            </div>
                        ` : ''}
                    </div>
                `).join('');
            }

            renderMatrixView(tasks) {
                // Clear all quadrants
                for (let i = 1; i <= 4; i++) {
                    const quadrant = document.getElementById(`quadrant-tasks-${i}`);
                    if (quadrant) quadrant.innerHTML = '';
                }

                // Add tasks to appropriate quadrants
                tasks.forEach(task => {
                    if (!task.completed) {
                        const quadrant = this.getTaskQuadrant(task);
                        const quadrantElement = document.getElementById(`quadrant-tasks-${quadrant}`);
                        if (quadrantElement) {
                            quadrantElement.innerHTML += this.getMatrixTaskHTML(task);
                        }
                    }
                });
            }

            getTaskQuadrant(task) {
                const isUrgent = this.isUrgent(task);
                const isImportant = ['urgent', 'high', 'medium'].includes(task.priority);
                
                if (isUrgent && isImportant) return 1;
                if (!isUrgent && isImportant) return 2;
                if (isUrgent && !isImportant) return 3;
                return 4; // !isUrgent && !isImportant
            }

            isUrgent(task) {
                if (!task.dueDate) return false;
                const dueDate = new Date(task.dueDate);
                const today = new Date();
                const diffTime = dueDate.getTime() - today.getTime();
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                return diffDays <= 2; // Due within 2 days
            }

            getMatrixTaskHTML(task) {
                return `
                    <div class="matrix-task-item" data-task-id="${task.id}">
                        <div class="matrix-task-title">${task.title}</div>
                        ${task.dueDate ? `
                            <div class="matrix-task-date">${this.formatDate(task.dueDate)}</div>
                        ` : ''}
                    </div>
                `;
            }

            updateStatistics(tasks) {
                const allTasks = tasks || JSON.parse(localStorage.getItem('tasks') || '[]');
                const today = new Date().toISOString().split('T')[0];
                
                // Calculate statistics
                const totalTasks = allTasks.length;
                const completedTasks = allTasks.filter(t => t.completed).length;
                const pendingTasks = totalTasks - completedTasks;
                const highPriorityTasks = allTasks.filter(t => 
                    ['urgent', 'high'].includes(t.priority) && !t.completed
                ).length;
                const todayTasks = allTasks.filter(t => t.dueDate === today && !t.completed).length;
                const overdueTasks = allTasks.filter(t => 
                    !t.completed && t.dueDate && new Date(t.dueDate) < new Date(today)
                ).length;
                
                // Update counts
                document.getElementById('count-all').textContent = pendingTasks;
                document.getElementById('count-today').textContent = todayTasks;
                document.getElementById('count-overdue').textContent = overdueTasks;
                document.getElementById('count-high').textContent = highPriorityTasks;
                document.getElementById('count-completed').textContent = completedTasks;
                document.getElementById('count-upcoming').textContent = 
                    allTasks.filter(t => !t.completed && t.dueDate && new Date(t.dueDate) > new Date(today)).length;
                
                // Update progress ring
                const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
                const progressFill = document.querySelector('.progress-fill');
                const progressText = document.querySelector('.progress-text');
                
                if (progressFill) {
                    const circumference = 2 * Math.PI * 45;
                    const offset = circumference - (completionRate / 100) * circumference;
                    progressFill.style.strokeDashoffset = offset;
                }
                
                if (progressText) {
                    progressText.textContent = `${completionRate}%`;
                }
                
                // Update progress bars
                const highPriorityCompleted = allTasks.filter(t => 
                    ['urgent', 'high'].includes(t.priority) && t.completed
                ).length;
                const highPriorityTotal = allTasks.filter(t => 
                    ['urgent', 'high'].includes(t.priority)
                ).length;
                const highPriorityRate = highPriorityTotal > 0 ? 
                    Math.round((highPriorityCompleted / highPriorityTotal) * 100) : 0;
                
                const todayCompleted = allTasks.filter(t => 
                    t.dueDate === today && t.completed
                ).length;
                const todayTotal = allTasks.filter(t => t.dueDate === today).length;
                const todayRate = todayTotal > 0 ? 
                    Math.round((todayCompleted / todayTotal) * 100) : 0;
                
                document.getElementById('progress-high').textContent = `${highPriorityRate}%`;
                document.getElementById('progress-today').textContent = `${todayRate}%`;
                document.getElementById('progress-bar-high').style.width = `${highPriorityRate}%`;
                document.getElementById('progress-bar-today').style.width = `${todayRate}%`;
            }

            updateMatrixCounts(tasks) {
                for (let i = 1; i <= 4; i++) {
                    const countElement = document.getElementById(`matrix-count-${i}`);
                    if (countElement) {
                        const quadrantTasks = tasks.filter(task => 
                            !task.completed && this.getTaskQuadrant(task) === i
                        );
                        countElement.textContent = quadrantTasks.length;
                    }
                }
            }

            generateCalendar() {
                const calendarGrid = document.getElementById('calendar-grid');
                if (!calendarGrid) return;
                
                // Clear calendar
                calendarGrid.innerHTML = '';
                
                // Add day headers
                const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                days.forEach(day => {
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'calendar-day-header';
                    dayHeader.textContent = day;
                    calendarGrid.appendChild(dayHeader);
                });
                
                // Get first day of month and total days
                const firstDay = new Date(this.currentYear, this.currentMonth, 1);
                const lastDay = new Date(this.currentYear, this.currentMonth + 1, 0);
                const totalDays = lastDay.getDate();
                const startingDay = firstDay.getDay();
                
                // Add empty cells for days before month starts
                for (let i = 0; i < startingDay; i++) {
                    const emptyCell = document.createElement('div');
                    emptyCell.className = 'calendar-day empty';
                    calendarGrid.appendChild(emptyCell);
                }
                
                // Add days of month
                const today = new Date();
                for (let day = 1; day <= totalDays; day++) {
                    const dayCell = document.createElement('div');
                    dayCell.className = 'calendar-day';
                    
                    // Check if this is today
                    if (this.currentYear === today.getFullYear() && 
                        this.currentMonth === today.getMonth() && 
                        day === today.getDate()) {
                        dayCell.classList.add('current');
                    }
                    
                    const dayNumber = document.createElement('div');
                    dayNumber.className = 'day-number';
                    dayNumber.textContent = day;
                    dayCell.appendChild(dayNumber);
                    
                    const dayTasks = document.createElement('div');
                    dayTasks.className = 'day-tasks';
                    dayTasks.id = `day-tasks-${day}`;
                    dayCell.appendChild(dayTasks);
                    
                    calendarGrid.appendChild(dayCell);
                }
                
                // Update month display
                const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                                  'July', 'August', 'September', 'October', 'November', 'December'];
                document.getElementById('current-month').textContent = 
                    `${monthNames[this.currentMonth]} ${this.currentYear}`;
            }

            updateCalendarTasks(tasks) {
                // Clear all day tasks
                for (let i = 1; i <= 31; i++) {
                    const dayTasks = document.getElementById(`day-tasks-${i}`);
                    if (dayTasks) dayTasks.innerHTML = '';
                }
                
                // Add tasks to their due dates
                tasks.forEach(task => {
                    if (task.dueDate && !task.completed) {
                        const dueDate = new Date(task.dueDate);
                        if (dueDate.getMonth() === this.currentMonth && 
                            dueDate.getFullYear() === this.currentYear) {
                            const day = dueDate.getDate();
                            const dayTasks = document.getElementById(`day-tasks-${day}`);
                            if (dayTasks) {
                                const taskElement = document.createElement('div');
                                taskElement.className = `day-task priority-${task.priority}`;
                                taskElement.textContent = task.title;
                                taskElement.title = task.description || task.title;
                                taskElement.onclick = () => this.editTask(task.id);
                                dayTasks.appendChild(taskElement);
                            }
                        }
                    }
                });
            }

            async createTask(taskData) {
                try {
                    const task = {
                        id: Date.now(),
                        ...taskData,
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString(),
                        completed: false
                    };
                    
                    // Save to localStorage
                    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                    tasks.push(task);
                    localStorage.setItem('tasks', JSON.stringify(tasks));
                    
                    // Reload tasks
                    await this.loadTasks();
                    
                    // Show success message
                    this.showNotification('Task created successfully!', 'success');
                    
                    return task;
                    
                } catch (error) {
                    console.error('Error creating task:', error);
                    this.showNotification('Failed to create task', 'error');
                    throw error;
                }
            }

            async updateTask(taskId, updates) {
                try {
                    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                    const taskIndex = tasks.findIndex(t => t.id == taskId);
                    
                    if (taskIndex !== -1) {
                        tasks[taskIndex] = {
                            ...tasks[taskIndex],
                            ...updates,
                            updatedAt: new Date().toISOString()
                        };
                        
                        localStorage.setItem('tasks', JSON.stringify(tasks));
                        await this.loadTasks();
                        this.showNotification('Task updated successfully!', 'success');
                    }
                    
                } catch (error) {
                    console.error('Error updating task:', error);
                    this.showNotification('Failed to update task', 'error');
                }
            }

            async deleteTask(taskId) {
                if (!confirm('Are you sure you want to delete this task?')) return;
                
                try {
                    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                    const updatedTasks = tasks.filter(t => t.id != taskId);
                    localStorage.setItem('tasks', JSON.stringify(updatedTasks));
                    
                    await this.loadTasks();
                    this.showNotification('Task deleted successfully!', 'success');
                    
                } catch (error) {
                    console.error('Error deleting task:', error);
                    this.showNotification('Failed to delete task', 'error');
                }
            }

            async toggleTaskCompletion(taskId) {
                try {
                    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                    const taskIndex = tasks.findIndex(t => t.id == taskId);
                    
                    if (taskIndex !== -1) {
                        tasks[taskIndex].completed = !tasks[taskIndex].completed;
                        tasks[taskIndex].updatedAt = new Date().toISOString();
                        
                        if (tasks[taskIndex].completed) {
                            tasks[taskIndex].completedAt = new Date().toISOString();
                        } else {
                            delete tasks[taskIndex].completedAt;
                        }
                        
                        localStorage.setItem('tasks', JSON.stringify(tasks));
                        await this.loadTasks();
                        
                        const status = tasks[taskIndex].completed ? 'completed' : 'reopened';
                        this.showNotification(`Task ${status}!`, 'success');
                    }
                    
                } catch (error) {
                    console.error('Error toggling task completion:', error);
                    this.showNotification('Failed to update task', 'error');
                }
            }

            // View Management
            setView(view) {
                this.currentView = view;
                
                // Update active view button
                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.view === view) {
                        btn.classList.add('active');
                    }
                });
                
                // Show selected view
                document.querySelectorAll('.task-view').forEach(viewElement => {
                    viewElement.classList.remove('active');
                });
                document.getElementById(`${view}-view`).classList.add('active');
                
                // Reload tasks for this view
                this.loadTasks();
            }

            setFilter(filter) {
                this.currentFilter = filter;
                
                // Update active filter
                document.querySelectorAll('.smart-filter').forEach(f => {
                    f.classList.remove('active');
                    if (f.dataset.filter === filter) {
                        f.classList.add('active');
                    }
                });
                
                // Reload tasks
                this.loadTasks();
            }

            setMatrixView(quadrant) {
                this.setView('matrix');
                // Could add highlighting for the selected quadrant
            }

            // Form Handling
            async handleFormSubmit(e) {
                e.preventDefault();
                
                const formData = new FormData(e.target);
                const taskData = {
                    title: formData.get('task-title'),
                    description: formData.get('task-description'),
                    priority: formData.get('task-priority'),
                    status: formData.get('task-status'),
                    dueDate: formData.get('task-due'),
                    timeEstimate: document.getElementById('time-value').textContent,
                    energy: this.energyLevel,
                    category: formData.get('task-category'),
                    tags: formData.get('task-tags')?.split(',').map(tag => tag.trim()).filter(tag => tag),
                    project: formData.get('task-project')
                };
                
                try {
                    await this.createTask(taskData);
                    this.hideTaskModal();
                    e.target.reset();
                } catch (error) {
                    console.error('Form submission error:', error);
                }
            }

            switchTab(tabName) {
                // Update active tab
                document.querySelectorAll('.form-tab').forEach(tab => {
                    tab.classList.remove('active');
                    if (tab.dataset.tab === tabName) {
                        tab.classList.add('active');
                    }
                });
                
                // Show selected tab content
                document.querySelectorAll('.form-section').forEach(section => {
                    section.classList.remove('active');
                    if (section.id === `${tabName}-tab`) {
                        section.classList.add('active');
                    }
                });
            }

            setEnergyLevel(level) {
                this.energyLevel = level;
                document.querySelectorAll('.energy-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.energy === level) {
                        btn.classList.add('active');
                    }
                });
            }

            // Selection Management
            toggleTaskSelection(taskId) {
                if (this.selectedTasks.has(taskId)) {
                    this.selectedTasks.delete(taskId);
                } else {
                    this.selectedTasks.add(taskId);
                }
                this.updateSelectionUI();
            }

            updateSelectionUI() {
                const count = this.selectedTasks.size;
                document.getElementById('selected-count').textContent = `${count} selected`;
                document.getElementById('bulk-count').textContent = `${count} tasks selected`;
                
                // Show/hide bulk actions
                const bulkActions = document.getElementById('bulk-actions');
                if (count > 0) {
                    bulkActions.style.display = 'flex';
                } else {
                    bulkActions.style.display = 'none';
                }
            }

            clearSelection() {
                this.selectedTasks.clear();
                this.updateSelectionUI();
                
                // Uncheck all checkboxes
                document.querySelectorAll('.task-checkbox input').forEach(checkbox => {
                    checkbox.checked = false;
                });
            }

            async markSelectedComplete() {
                const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                
                for (const taskId of this.selectedTasks) {
                    const taskIndex = tasks.findIndex(t => t.id == taskId);
                    if (taskIndex !== -1) {
                        tasks[taskIndex].completed = true;
                        tasks[taskIndex].completedAt = new Date().toISOString();
                        tasks[taskIndex].updatedAt = new Date().toISOString();
                    }
                }
                
                localStorage.setItem('tasks', JSON.stringify(tasks));
                await this.loadTasks();
                this.clearSelection();
                this.showNotification(`${this.selectedTasks.size} tasks marked as complete!`, 'success');
            }

            async deleteSelected() {
                if (!confirm(`Delete ${this.selectedTasks.size} selected tasks?`)) return;
                
                const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                const updatedTasks = tasks.filter(t => !this.selectedTasks.has(t.id));
                
                localStorage.setItem('tasks', JSON.stringify(updatedTasks));
                await this.loadTasks();
                this.clearSelection();
                this.showNotification(`${this.selectedTasks.size} tasks deleted!`, 'success');
            }

            // Context Menu
            showContextMenu(x, y, taskId) {
                this.contextMenuTaskId = taskId;
                const menu = document.getElementById('context-menu');
                menu.style.left = `${x}px`;
                menu.style.top = `${y}px`;
                menu.classList.add('active');
            }

            hideContextMenu() {
                const menu = document.getElementById('context-menu');
                menu.classList.remove('active');
            }

            editSelectedTask() {
                if (this.contextMenuTaskId) {
                    this.editTask(this.contextMenuTaskId);
                }
                this.hideContextMenu();
            }

            async deleteSelectedTask() {
                if (this.contextMenuTaskId) {
                    await this.deleteTask(this.contextMenuTaskId);
                }
                this.hideContextMenu();
            }

            async duplicateSelectedTask() {
                if (this.contextMenuTaskId) {
                    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                    const task = tasks.find(t => t.id == this.contextMenuTaskId);
                    
                    if (task) {
                        const duplicate = {
                            ...task,
                            id: Date.now(),
                            title: `${task.title} (Copy)`,
                            createdAt: new Date().toISOString(),
                            updatedAt: new Date().toISOString(),
                            completed: false
                        };
                        
                        delete duplicate.completedAt;
                        
                        tasks.push(duplicate);
                        localStorage.setItem('tasks', JSON.stringify(tasks));
                        await this.loadTasks();
                        this.showNotification('Task duplicated!', 'success');
                    }
                }
                this.hideContextMenu();
            }

            async markAsComplete() {
                if (this.contextMenuTaskId) {
                    await this.toggleTaskCompletion(this.contextMenuTaskId);
                }
                this.hideContextMenu();
            }

            async setPriority(priority) {
                if (this.contextMenuTaskId) {
                    await this.updateTask(this.contextMenuTaskId, { priority });
                }
                this.hideContextMenu();
            }

            async moveToToday() {
                if (this.contextMenuTaskId) {
                    const today = new Date().toISOString().split('T')[0];
                    await this.updateTask(this.contextMenuTaskId, { dueDate: today });
                }
                this.hideContextMenu();
            }

            // UI Helpers
            showTaskModal() {
                document.getElementById('task-modal').classList.add('active');
            }

            hideTaskModal() {
                document.getElementById('task-modal').classList.remove('active');
            }

            showLoading() {
                // Implement loading indicator
            }

            hideLoading() {
                // Hide loading indicator
            }

            showNotification(message, type = 'info') {
                // Create and show notification
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                    <span>${message}</span>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                    setTimeout(() => {
                        notification.classList.remove('show');
                        setTimeout(() => notification.remove(), 300);
                    }, 3000);
                }, 100);
            }

            showError(message) {
                this.showNotification(message, 'error');
            }

            getEmptyState(filter) {
                const messages = {
                    all: 'No tasks yet. Create your first task!',
                    today: 'No tasks due today. Enjoy your day!',
                    overdue: 'No overdue tasks. Great job!',
                    high: 'No high priority tasks at the moment.',
                    upcoming: 'No upcoming tasks scheduled.',
                    completed: 'No completed tasks yet.'
                };
                
                return `
                    <div class="empty-state-enhanced">
                        <i class="fas fa-tasks"></i>
                        <h3>${messages[filter] || 'No tasks found'}</h3>
                        <p>${filter === 'all' ? 'Click the "New Task" button to get started' : 'Try changing your filters'}</p>
                    </div>
                `;
            }

            formatDate(dateString) {
                if (!dateString) return '';
                const date = new Date(dateString);
                return date.toLocaleDateString('en-US', { 
                    month: 'short', 
                    day: 'numeric',
                    year: date.getFullYear() !== new Date().getFullYear() ? 'numeric' : undefined
                });
            }

            isOverdue(task) {
                if (!task.dueDate || task.completed) return false;
                const dueDate = new Date(task.dueDate);
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                return dueDate < today;
            }

            // Calendar Navigation
            prevMonth() {
                this.currentMonth--;
                if (this.currentMonth < 0) {
                    this.currentMonth = 11;
                    this.currentYear--;
                }
                this.generateCalendar();
                this.updateCalendarTasks(JSON.parse(localStorage.getItem('tasks') || '[]'));
            }

            nextMonth() {
                this.currentMonth++;
                if (this.currentMonth > 11) {
                    this.currentMonth = 0;
                    this.currentYear++;
                }
                this.generateCalendar();
                this.updateCalendarTasks(JSON.parse(localStorage.getItem('tasks') || '[]'));
            }

            // Drag and Drop
            setupDragAndDrop() {
                const draggables = document.querySelectorAll('.draggable');
                const quadrants = document.querySelectorAll('.matrix-quadrant-advanced');
                
                draggables.forEach(draggable => {
                    draggable.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', draggable.dataset.taskId);
                        draggable.classList.add('dragging');
                    });
                    
                    draggable.addEventListener('dragend', () => {
                        draggable.classList.remove('dragging');
                    });
                });
                
                quadrants.forEach(quadrant => {
                    quadrant.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        quadrant.classList.add('drag-over');
                    });
                    
                    quadrant.addEventListener('dragleave', () => {
                        quadrant.classList.remove('drag-over');
                    });
                    
                    quadrant.addEventListener('drop', async (e) => {
                        e.preventDefault();
                        quadrant.classList.remove('drag-over');
                        
                        const taskId = e.dataTransfer.getData('text/plain');
                        const quadrantNum = quadrant.dataset.quadrant;
                        
                        // Update task priority based on quadrant
                        const priorityMap = {
                            '1': 'urgent',
                            '2': 'high',
                            '3': 'medium',
                            '4': 'low'
                        };
                        
                        await this.updateTask(taskId, { 
                            priority: priorityMap[quadrantNum] || 'medium' 
                        });
                    });
                });
            }

            // Keyboard Shortcuts
            setupKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    // Ctrl/Cmd + N: New task
                    if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                        e.preventDefault();
                        this.showTaskModal();
                    }
                    
                    // Escape: Close modal or context menu
                    if (e.key === 'Escape') {
                        this.hideTaskModal();
                        this.hideContextMenu();
                    }
                    
                    // Delete: Delete selected tasks
                    if (e.key === 'Delete' && this.selectedTasks.size > 0) {
                        this.deleteSelected();
                    }
                });
            }

            // Edit Task
            async editTask(taskId) {
                const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
                const task = tasks.find(t => t.id == taskId);
                
                if (task) {
                    // Populate form with task data
                    document.getElementById('task-title').value = task.title;
                    document.getElementById('task-description').value = task.description || '';
                    document.getElementById('task-priority').value = task.priority;
                    document.getElementById('task-status').value = task.status || 'pending';
                    document.getElementById('task-due').value = task.dueDate || '';
                    
                    // Set energy level if exists
                    if (task.energy) {
                        this.setEnergyLevel(task.energy);
                    }
                    
                    // Show modal
                    this.showTaskModal();
                    
                    // Change form to update mode
                    const form = document.getElementById('advanced-task-form');
                    form.onsubmit = async (e) => {
                        e.preventDefault();
                        const formData = new FormData(e.target);
                        const updates = {
                            title: formData.get('task-title'),
                            description: formData.get('task-description'),
                            priority: formData.get('task-priority'),
                            status: formData.get('task-status'),
                            dueDate: formData.get('task-due'),
                            energy: this.energyLevel
                        };
                        
                        await this.updateTask(taskId, updates);
                        this.hideTaskModal();
                    };
                }
            }
        }

        // Initialize the task manager
        let taskManager;

        document.addEventListener('DOMContentLoaded', () => {
            taskManager = new AdvancedTaskManager();
            taskManager.initialize();
            
            // Set today's date as default for due date
            const today = new Date().toISOString().split('T')[0];
            const dueDateInput = document.getElementById('task-due');
            if (dueDateInput) {
                dueDateInput.value = today;
                dueDateInput.min = today; // Prevent past dates
            }
        });

        // Global functions for inline event handlers
        function showTaskModal() {
            taskManager.showTaskModal();
        }

        function hideTaskModal() {
            taskManager.hideTaskModal();
        }

        function enterFocusMode() {
            alert('Focus mode feature would be implemented here');
            // In a real implementation, this would open a focus mode interface
        }

        function setView(view) {
            taskManager.setView(view);
        }

        function setFilter(filter) {
            taskManager.setFilter(filter);
        }

        function setMatrixView(quadrant) {
            taskManager.setMatrixView(quadrant);
        }

        function sortTasks(sortBy) {
            taskManager.currentSort = sortBy;
            taskManager.loadTasks();
        }

        function quickSort(type) {
            taskManager.currentSort = type;
            document.getElementById('sort-select').value = type;
            taskManager.loadTasks();
        }

        function exportAllTasks() {
            const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
            const dataStr = JSON.stringify(tasks, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `tasks-backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            taskManager.showNotification('Tasks exported successfully!', 'success');
        }

        function toggleRecurrenceOptions() {
            const type = document.getElementById('recurrence-type').value;
            const options = document.getElementById('recurrence-options');
            const weeklyOptions = document.getElementById('weekly-options');
            const intervalUnit = document.getElementById('interval-unit');
            
            if (type === 'none') {
                options.style.display = 'none';
            } else {
                options.style.display = 'block';
                
                // Update interval unit text
                const unitMap = {
                    'daily': 'days',
                    'weekly': 'weeks',
                    'monthly': 'months',
                    'yearly': 'years',
                    'custom': 'days'
                };
                intervalUnit.textContent = unitMap[type] || 'days';
                
                // Show/hide weekly options
                if (type === 'weekly') {
                    weeklyOptions.style.display = 'block';
                } else {
                    weeklyOptions.style.display = 'none';
                }
            }
        }

        function setEnergyLevel(level) {
            taskManager.setEnergyLevel(level);
        }

        function addDependency(type) {
            // This would open a task selector in a real implementation
            alert(`Add ${type} dependency - This would open a task selector`);
        }

        function markSelectedComplete() {
            taskManager.markSelectedComplete();
        }

        function deleteSelected() {
            taskManager.deleteSelected();
        }

        function clearSelection() {
            taskManager.clearSelection();
        }

        function prevMonth() {
            taskManager.prevMonth();
        }

        function nextMonth() {
            taskManager.nextMonth();
        }
    </script>
</body>
</html>