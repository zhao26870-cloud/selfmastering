<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Management | SelfMaster</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <!-- components/header.html -->
<header>
    <div class="container header-content">
        <div class="logo">
            <i class="fas fa-brain"></i>
            <span><a href="index.html" style="color: inherit; text-decoration: none;">SelfMaster</a></span>
        </div>
        <nav id="main-nav">
            <ul>
                <li><a href="tasks.html"><i class="fas fa-tasks"></i> Tasks</a></li>
                <li><a href="projects.html"><i class="fas fa-project-diagram"></i> Projects</a></li>
                <li><a href="calendar.html"><i class="fas fa-calendar"></i> Calendar</a></li>
                <li><a href="goals.html"><i class="fas fa-bullseye"></i> Goals</a></li>
                <li><a href="habits.html"><i class="fas fa-running"></i> Habits</a></li>
                <li><a href="notes.html"><i class="fas fa-sticky-note"></i> Notes</a></li>
                <li><a href="reviews.html"><i class="fas fa-chart-bar"></i> Reviews</a></li>
                <li><a href="analytics.html"><i class="fas fa-chart-line"></i> Analytics</a></li>
            </ul>
        </nav>
        <button class="mobile-menu-btn">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1><i class="fas fa-project-diagram"></i> Project Management</h1>
            <p>Break down complex goals into manageable projects and milestones</p>
        </div>
    </section>

    <!-- Project Templates -->
    <section class="project-templates">
        <div class="container">
            <h2 class="section-title">Quick Start Templates</h2>
            <div class="template-grid">
                <div class="template-card" onclick="applyTemplate('product-launch')">
                    <div class="template-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h3>Product Launch</h3>
                    <p>Complete framework for launching a new product or service</p>
                    <div class="template-tags">
                        <span class="template-tag">Business</span>
                        <span class="template-tag">Planning</span>
                    </div>
                </div>
                <div class="template-card" onclick="applyTemplate('event-planning')">
                    <div class="template-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3>Event Planning</h3>
                    <p>Organize and execute successful events from start to finish</p>
                    <div class="template-tags">
                        <span class="template-tag">Event</span>
                        <span class="template-tag">Logistics</span>
                    </div>
                </div>
                <div class="template-card" onclick="applyTemplate('learning-project')">
                    <div class="template-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Learning Project</h3>
                    <p>Structure for mastering a new skill or subject</p>
                    <div class="template-tags">
                        <span class="template-tag">Education</span>
                        <span class="template-tag">Skills</span>
                    </div>
                </div>
                <div class="template-card" onclick="applyTemplate('personal-goal')">
                    <div class="template-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>Personal Goal</h3>
                    <p>Framework for achieving personal development objectives</p>
                    <div class="template-tags">
                        <span class="template-tag">Personal</span>
                        <span class="template-tag">Growth</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Active Projects -->
    <section class="active-projects">
        <div class="container">
            <div class="section-header">
                <h2><i class="fas fa-spinner"></i> Active Projects</h2>
                <button class="btn" onclick="showNewProjectForm()">
                    <i class="fas fa-plus"></i> New Project
                </button>
            </div>
            
            <!-- New Project Form (Initially Hidden) -->
            <div class="form-container" id="new-project-form" style="display: none;">
                <h3><i class="fas fa-plus-circle"></i> Create New Project</h3>
                <form id="project-form" onsubmit="createNewProject(event)">
                    <div class="form-group">
                        <label for="project-name">Project Name *</label>
                        <input type="text" id="project-name" placeholder="Enter project name" required>
                    </div>
                    <div class="form-group">
                        <label for="project-description">Description</label>
                        <textarea id="project-description" rows="3" placeholder="Describe your project..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="project-start">Start Date</label>
                            <input type="date" id="project-start">
                        </div>
                        <div class="form-group">
                            <label for="project-deadline">Deadline</label>
                            <input type="date" id="project-deadline">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="project-priority">Priority</label>
                        <select id="project-priority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn">Create Project</button>
                        <button type="button" class="btn btn-outline" onclick="hideNewProjectForm()">Cancel</button>
                    </div>
                </form>
            </div>

            <!-- Projects List -->
            <div class="projects-grid" id="projects-list">
                <!-- Projects will be loaded here -->
                <div class="empty-state">
                    <i class="fas fa-project-diagram fa-3x"></i>
                    <h3>No projects yet</h3>
                    <p>Create your first project or select a template to get started!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Kanban View -->
    <section class="kanban-view">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-columns"></i> Project Kanban</h2>
            <div class="kanban-container">
                <div class="kanban-column">
                    <div class="column-header">
                        <h3>To Do</h3>
                        <span class="column-count" id="todo-count">0</span>
                    </div>
                    <div class="column-content" id="todo-column">
                        <!-- Todo tasks will be added here -->
                    </div>
                </div>
                <div class="kanban-column">
                    <div class="column-header">
                        <h3>In Progress</h3>
                        <span class="column-count" id="progress-count">0</span>
                    </div>
                    <div class="column-content" id="progress-column">
                        <!-- In-progress tasks -->
                    </div>
                </div>
                <div class="kanban-column">
                    <div class="column-header">
                        <h3>Review</h3>
                        <span class="column-count" id="review-count">0</span>
                    </div>
                    <div class="column-content" id="review-column">
                        <!-- Review tasks -->
                    </div>
                </div>
                <div class="kanban-column">
                    <div class="column-header">
                        <h3>Done</h3>
                        <span class="column-count" id="done-count">0</span>
                    </div>
                    <div class="column-content" id="done-column">
                        <!-- Completed tasks -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Statistics -->
    <section class="project-stats">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-chart-pie"></i> Project Statistics</h2>
            <div class="stats-grid">
                <div class="stats-card">
                    <div class="stat-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="total-projects">0</div>
                        <div class="stat-label">Total Projects</div>
                    </div>
                </div>
                <div class="stats-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="on-track">0</div>
                        <div class="stat-label">On Track</div>
                    </div>
                </div>
                <div class="stats-card">
                    <div class="stat-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="behind">0</div>
                        <div class="stat-label">Behind Schedule</div>
                    </div>
                </div>
                <div class="stats-card">
                    <div class="stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="completed-projects">0</div>
                        <div class="stat-label">Completed</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h4>SelfMaster</h4>
                    <p>Your comprehensive personal management system designed to help you take control of your life, build better habits, and achieve your goals.</p>
                </div>
                <div class="footer-column">
                    <h4>Project Tools</h4>
                    <ul>
                        <li><a href="#">Gantt Charts</a></li>
                        <li><a href="#">Milestone Tracking</a></li>
                        <li><a href="#">Resource Planning</a></li>
                        <li><a href="#">Risk Management</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Methodologies</h4>
                    <ul>
                        <li><a href="#">Agile/Scrum</a></li>
                        <li><a href="#">Kanban</a></li>
                        <li><a href="#">Waterfall</a></li>
                        <li><a href="#">Lean Project Management</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 SelfMaster. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <script src="data.js"></script>
    <script src="script.js"></script>
    <script>
        // Project page specific functionality
        function showNewProjectForm() {
            document.getElementById('new-project-form').style.display = 'block';
            document.getElementById('project-name').focus();
        }
        
        function hideNewProjectForm() {
            document.getElementById('new-project-form').style.display = 'none';
            document.getElementById('project-form').reset();
        }
        
        function createNewProject(event) {
            event.preventDefault();
            
            const project = {
                id: Date.now(),
                name: document.getElementById('project-name').value,
                description: document.getElementById('project-description').value,
                startDate: document.getElementById('project-start').value,
                deadline: document.getElementById('project-deadline').value,
                priority: document.getElementById('project-priority').value,
                status: 'active',
                tasks: [],
                createdAt: new Date().toISOString(),
                progress: 0
            };
            
            // Save to localStorage
            const projects = JSON.parse(localStorage.getItem('projects') || '[]');
            projects.push(project);
            localStorage.setItem('projects', JSON.stringify(projects));
            
            // Reset form and hide
            hideNewProjectForm();
            
            // Reload projects
            loadProjects();
            
            // Show success message
            alert('Project created successfully!');
        }
        
        function loadProjects() {
            const projects = JSON.parse(localStorage.getItem('projects') || '[]');
            const projectsList = document.getElementById('projects-list');
            
            if (projects.length === 0) {
                projectsList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-project-diagram fa-3x"></i>
                        <h3>No projects yet</h3>
                        <p>Create your first project or select a template to get started!</p>
                    </div>
                `;
                return;
            }
            
            projectsList.innerHTML = projects.map(project => `
                <div class="project-card" data-project-id="${project.id}">
                    <div class="project-header">
                        <h3>${project.name}</h3>
                        <span class="project-priority priority-${project.priority}">${project.priority}</span>
                    </div>
                    <p class="project-description">${project.description || 'No description'}</p>
                    <div class="project-progress">
                        <div class="progress-bar">
                            <div class="progress" style="width: ${project.progress || 0}%"></div>
                        </div>
                        <span class="progress-text">${project.progress || 0}%</span>
                    </div>
                    <div class="project-footer">
                        <div class="project-dates">
                            <span><i class="fas fa-calendar"></i> ${formatDate(project.deadline)}</span>
                        </div>
                        <div class="project-actions">
                            <button class="action-btn" onclick="viewProject(${project.id})">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn" onclick="editProject(${project.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn" onclick="deleteProject(${project.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            updateProjectStats(projects);
            updateKanbanBoard(projects);
        }
        
        function formatDate(dateString) {
            if (!dateString) return 'No deadline';
            const date = new Date(dateString);
            return date.toLocaleDateString();
        }
        
        function updateProjectStats(projects) {
            const totalProjects = projects.length;
            const completedProjects = projects.filter(p => p.progress === 100).length;
            const onTrackProjects = projects.filter(p => p.progress >= 50 && p.progress < 100).length;
            const behindProjects = projects.filter(p => p.progress < 50 && p.deadline && new Date(p.deadline) < new Date()).length;
            
            document.getElementById('total-projects').textContent = totalProjects;
            document.getElementById('completed-projects').textContent = completedProjects;
            document.getElementById('on-track').textContent = onTrackProjects;
            document.getElementById('behind').textContent = behindProjects;
        }
        
        function updateKanbanBoard(projects) {
            // This is a simplified version - in reality, you'd load tasks associated with each project
            const todoTasks = [];
            const progressTasks = [];
            const reviewTasks = [];
            const doneTasks = [];
            
            // For now, we'll just show project status
            projects.forEach(project => {
                if (project.progress === 100) {
                    doneTasks.push(project);
                } else if (project.progress >= 70) {
                    reviewTasks.push(project);
                } else if (project.progress > 0) {
                    progressTasks.push(project);
                } else {
                    todoTasks.push(project);
                }
            });
            
            document.getElementById('todo-count').textContent = todoTasks.length;
            document.getElementById('progress-count').textContent = progressTasks.length;
            document.getElementById('review-count').textContent = reviewTasks.length;
            document.getElementById('done-count').textContent = doneTasks.length;
        }
        
        function viewProject(projectId) {
            window.location.href = `project-detail.html?id=${projectId}`;
        }
        
        function editProject(projectId) {
            // Implementation for editing project
            console.log('Edit project:', projectId);
        }
        
        function deleteProject(projectId) {
            if (confirm('Are you sure you want to delete this project? This action cannot be undone.')) {
                const projects = JSON.parse(localStorage.getItem('projects') || '[]');
                const updatedProjects = projects.filter(p => p.id !== projectId);
                localStorage.setItem('projects', JSON.stringify(updatedProjects));
                loadProjects();
            }
        }
        
        function applyTemplate(templateId) {
            const templates = {
                'product-launch': {
                    name: 'Product Launch',
                    description: 'Complete framework for launching a new product or service',
                    tasks: [
                        'Market research and analysis',
                        'Define product requirements',
                        'Create marketing strategy',
                        'Set up production/supply chain',
                        'Plan launch campaign',
                        'Create sales materials',
                        'Train sales team',
                        'Launch day execution',
                        'Post-launch evaluation'
                    ]
                },
                'event-planning': {
                    name: 'Event Planning',
                    description: 'Organize and execute successful events from start to finish',
                    tasks: [
                        'Define event objectives',
                        'Set budget and secure funding',
                        'Choose venue and date',
                        'Create guest list and invitations',
                        'Arrange catering and entertainment',
                        'Plan logistics and transportation',
                        'Prepare event materials',
                        'Coordinate day-of activities',
                        'Follow up with attendees'
                    ]
                },
                'learning-project': {
                    name: 'Learning Project',
                    description: 'Structure for mastering a new skill or subject',
                    tasks: [
                        'Define learning objectives',
                        'Research learning resources',
                        'Create study schedule',
                        'Complete foundational material',
                        'Practice and apply knowledge',
                        'Join study group or find mentor',
                        'Complete projects/exercises',
                        'Test your knowledge',
                        'Teach others what you learned'
                    ]
                },
                'personal-goal': {
                    name: 'Personal Goal Project',
                    description: 'Framework for achieving personal development objectives',
                    tasks: [
                        'Define specific goal',
                        'Set measurable milestones',
                        'Identify required resources',
                        'Create timeline',
                        'Track progress regularly',
                        'Adjust plan as needed',
                        'Celebrate achievements',
                        'Review and reflect'
                    ]
                }
            };
            
            const template = templates[templateId];
            if (template) {
                document.getElementById('project-name').value = template.name;
                document.getElementById('project-description').value = template.description;
                showNewProjectForm();
                
                // Store template tasks for later use
                sessionStorage.setItem('template-tasks', JSON.stringify(template.tasks));
            }
        }
        
        // Load projects on page load
        document.addEventListener('DOMContentLoaded', loadProjects);
    </script>
</body>
</html>